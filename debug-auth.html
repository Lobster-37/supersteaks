<!DOCTYPE html>
<html>
<head>
    <title>Authentication Debug</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .section { margin: 20px 0; padding: 10px; border: 1px solid #ccc; }
        pre { background: #f5f5f5; padding: 10px; }
    </style>
</head>
<body>
    <!-- Draggable Logo -->
    <a href="index.html">
        <img src="supersteaks-logo.png?v=20241118002" alt="SuperSteaks Logo" id="draggable-logo" class="absolute h-20 sm:h-24 md:h-32 w-auto z-50" style="left: 0px; top: 0px; filter: brightness(0.9) contrast(1.3) hue-rotate(-10deg) saturate(1.2); cursor: pointer; user-select: none;">
    </a>
    <script>
        // Logo drag functionality
        document.addEventListener('DOMContentLoaded', function() {
            const logo = document.getElementById('draggable-logo');
            if (!logo) return;
            let isDragging = false;
            let startX, startY, initialLeft, initialTop;
            logo.addEventListener('mousedown', function(e) {
                isDragging = true;
                startX = e.clientX;
                startY = e.clientY;
                initialLeft = parseInt(logo.style.left || '0', 10);
                initialTop = parseInt(logo.style.top || '0', 10);
                e.preventDefault();
                e.stopPropagation();
                logo.style.zIndex = '9999';
            });
            document.addEventListener('mousemove', function(e) {
                if (!isDragging) return;
                e.preventDefault();
                const deltaX = e.clientX - startX;
                const deltaY = e.clientY - startY;
                const newLeft = initialLeft + deltaX;
                const newTop = initialTop + deltaY;
                logo.style.left = newLeft + 'px';
                logo.style.top = newTop + 'px';
            });
            document.addEventListener('mouseup', function() {
                if (isDragging) {
                    isDragging = false;
                    logo.style.zIndex = '50';
                }
            });
            // Prevent dragging on mobile
            logo.addEventListener('touchstart', function(e) {
                e.preventDefault();
            });
        });
    </script>
    <h1>Authentication Debug Tool</h1>
    
    <div class="section">
        <h2>SuperSteaks Session (supersteaks_session)</h2>
        <pre id="supersteaks-session">Loading...</pre>
    </div>
    
    <div class="section">
        <h2>Old System - Current User</h2>
        <pre id="current-user">Loading...</pre>
    </div>
    
    <div class="section">
        <h2>Old System - Champion League Users</h2>
        <pre id="champ-users">Loading...</pre>
    </div>
    
    <div class="section">
        <h2>All localStorage Keys</h2>
        <pre id="all-keys">Loading...</pre>
    </div>
    
    <button onclick="refreshData()">Refresh Data</button>
    
    <script>
        function refreshData() {
            // SuperSteaks session
            const supersteaksSession = localStorage.getItem('supersteaks_session');
            document.getElementById('supersteaks-session').textContent = supersteaksSession || 'NULL';
            
            // Old system - current user
            const currentUser = localStorage.getItem('currentUser');
            document.getElementById('current-user').textContent = currentUser || 'NULL';
            
            // Old system - champion league users
            const champUsers = localStorage.getItem('champLeagueUsers');
            document.getElementById('champ-users').textContent = champUsers || 'NULL';
            
            // All localStorage keys
            const allKeys = [];
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                const value = localStorage.getItem(key);
                allKeys.push(`${key}: ${value}`);
            }
            document.getElementById('all-keys').textContent = allKeys.join('\n') || 'No keys found';
        }
        
        // Load data immediately
        refreshData();
    </script>
</body>
</html>